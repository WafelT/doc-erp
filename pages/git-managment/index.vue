<template>
    <div class="page-doc">
        <v-container>
            <div class="page-doc__content">
                <h2>–ù–µ–π–º–∏–Ω–≥ git —Å—É—â–Ω–æ—Å—Ç–µ–π</h2>
                <h4>–®–∞–±–ª–æ–Ω –Ω–µ–π–º–∏–Ω–≥–∞ Merge Request</h4>
                <UiStringColorSchema
                    :isDarkMode="true"
                    :isUsingSpaces="true"
                    :items="mergeRequestItems"
                />

                <UiAttention>
                    <strong>–¢–∏–ø—ã —Ö–≤–æ—Å—Ç–æ–≤:</strong> (only FrontEnd), (dependency BackEnd), (dependency Task), (dependency Managment)...
                </UiAttention>

                <hr />

                <h4>–®–∞–±–ª–æ–Ω –Ω–µ–π–º–∏–Ω–≥–∞ Commit-–∞</h4>
                <UiStringColorSchema
                    :isDarkMode="true"
                    :isUsingSpaces="true"
                    :items="commitsItems"
                />

                <hr />

                <h2>Code review –ø—Ä–æ—Ü–µ—Å—Å –≤ –∫–æ–º–∞–Ω–¥–µ</h2>

                <ul>
                    <li><strong>–®–∞–≥ 1.</strong> —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ—ë <strong>MR —Å–æ–æ–±—â–µ–Ω–∏–µ</strong> –≤ —á–∞—Ç–µ <strong>code review</strong> –∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç –µ–≥–æ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ <strong>pinned üìå</strong></li>
                    <li><strong>–®–∞–≥ 2.</strong> –æ–¥–∏–Ω –∏–ª–∏ –±–æ–ª—å—à–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å—Ç–∞–≤—è—Ç —Ä–µ–∞–∫—Ü–∏—é üëÜ –µ—Å–ª–∏ –±–µ—Ä—É—Ç –¥–∞–Ω–Ω—ã–π <strong>MR</strong> –≤ <strong>CR</strong></li>
                    <li><strong>–®–∞–≥ 3.</strong> –≤ —Å–ª—É—á–∞–µ –≤—ã–∏—Å–Ω–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–∏—à—É—Ç <strong>–≤–ª–∞–¥–µ–ª—å—Ü—É MR</strong>-–∞ –≤ <strong>thread</strong> –µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è ( —Ç–∞–∫–∂–µ –¥–æ–±–æ–≤–ª—è—é—Ç —Ä–µ–∞–∫—Ü–∏—é: ‚ö†Ô∏è ), –∏ –¥–∞–ª—å—à–µ –æ–±—Å—É–∂–¥–∞—é—Ç –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
                    <li><strong>–®–∞–≥ 4.</strong> –∫–æ–≥–¥–∞ —Å–º–æ—Ç—Ä—è—â–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–≥–ª–∞—à–∞—é—Ç—Å—è —Å —Ç–µ–º —á—Ç–æ –∫–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ–Ω–∏ —Å—Ç–∞–≤—è—Ç —Ä–µ–∞–∫—Ü–∏—é ‚úÖ</li>
                    <li><strong>–®–∞–≥ 5.</strong> —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ <strong>–≤–ª–∞–¥–µ–ª–µ—Ü MR</strong>-–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å <strong>pinned üìå</strong> —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å—Ç–∞–≤–∏—Ç –≥–∞–ª–æ—á–∫—É ‚úîÔ∏è –≤ <strong>excel —Ç–∞–±–ª–∏—Ü–µ</strong> —É —Å—Ç—Ä–æ–∫–∏ —Å–≤–æ–µ–π –∑–∞–¥–∞—á–∏</li>
                </ul>

                <video autoplay loop muted controls>
                    <source src="~/assets/images/code-review-strategy-example.mp4" type="video/mp4">
                </video>
            </div>  
        </v-container>
    </div>
</template>

<script lang="ts" setup>
// @ts-ignore
import UiAttention from '~/components/ui/UiAttencion' // @ts-ignore
import UiCode from '~/components/ui/UiCode' // @ts-ignore
import UiVideo from '~/components/ui/UiVideo' // @ts-ignore
import UiStringColorSchema from '~/components/ui/UiStringColorSchema' // @ts-ignore

import { ref, computed, onMounted } from 'vue';

// DATA FIELDS
const mergeRequestParts = [
    { head: '[task|1938]', body: 'add some proggress about fund requests', tail: '(only FrontEnd)' },
    { head: '[task|1940]', body: 'completed backend integration', tail: '(dependency BackEnd)' },
    { head: '[tasks|12, 19232, 19200]', body: 'updated user authentication flow', tail: '(dependency Task)' },
    { head: '[update]', body: 'optimized database queries', tail: '(dependency BackEnd)' },
    { head: '[task|321]', body: 'refactored CSS for better maintainability', tail: '(dependency Managment)' },
    { head: '[task|5423]', body: 'added new dashboard features', tail: '(only FrontEnd)' },
    { head: '[task|2543]', body: 'improved logging and monitoring', tail: '(dependency BackEnd)' },
    { head: '[task|19240]', body: 'updated API documentation', tail: '(only FrontEnd)' },
]
const mergeRequestPartIndex = ref(0)
const mergeRequestItems = computed(() => ([
    { color: '#f1948a', textPart: mergeRequestParts[mergeRequestPartIndex.value].head, explication: '–ì–æ–ª–æ–≤–∞' },
    { color: '#d4e6f1', textPart: mergeRequestParts[mergeRequestPartIndex.value].body, explication: '–¢–µ–ª–æ' },
    { color: '#f9e79f', textPart: mergeRequestParts[mergeRequestPartIndex.value].tail, explication: '–•–≤–æ—Å—Ç' },
]))

const commitsParts = [
    { head: '[task|1938]', body: 'add some proggress about fund requests' },
    { head: '[update]', body: 'optimized database queries' },
    { head: '[conflict]', body: 'solving for target branch dev' },
    { head: '[hotfix]', body: 'fix footer of page info' },
    { head: '[refactoring]', body: 'improve componet of AdvancedFilters' },
]
const commitsPartsIndex = ref(0)
const commitsItems = computed(() => ([
    { color: '#ec7063', textPart: commitsParts[commitsPartsIndex.value].head, explication: '–ì–æ–ª–æ–≤–∞' },
    { color: '#7fb3d5', textPart: commitsParts[commitsPartsIndex.value].body, explication: '–¢–µ–ª–æ' },
]));

// FUNCTIONS
const initDataSlider = (textParts: any[], idxCountField: Ref) => {
    setInterval(() => {
        idxCountField.value = (idxCountField.value + 1) % textParts.length
    }, 2000)
}

// LIFECYCLE
onMounted(() => {
    initDataSlider(mergeRequestParts, mergeRequestPartIndex)
    initDataSlider(commitsParts, commitsPartsIndex)
})
</script>

<style lang="scss">
@use 'index.scss';
</style>